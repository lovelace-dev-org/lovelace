{% extends 'courses/base.html' %}
{% load static %}
{% load i18n %}
{% load course_tags %}
{% load answer_tags %}

{% block page-title %}{% blocktrans with instance=instance.name %}
  Completion statistics of {{ instance }}
{% endblocktrans %}{% endblock %}

{% block extra-static %}
  <link rel="stylesheet" href="{% static 'teacher_tools/style.css' %}">
  <link rel="stylesheet" href="{% static 'courses/answers.css' %}">
  <script src="{% static 'teacher_tools/completion.js' %}"></script>
{% endblock %}

{% block breadcrumb-links %}
  <li><a href="{% url 'courses:index' %}">{% trans 'Courses' %}</a></li>
  <div class="separator">»</div>
  <li><a href="{% url 'courses:course' course instance %}">{{ course.name }}&nbsp;/&nbsp;{{ instance.name }}</a></li>
  {% if single_linked %}
    <div class="separator">»</div>
    <li><a href="{% url 'courses:content' course instance parent %}">{{ parent.name }}</a></li>
    <div class="separator">»</div>
    <li><a href="{% url 'courses:content' course instance parent %}#{{ anchor }}">{{ exercise_title }}</a></li>
  {% else %}
    <div class="separator">»</div>
    <li>{{ content.name }}</li>
  {% endif %}
{% endblock %}

{% block page-content %}

  <h1>
    {% blocktrans with instance=instance.name %}
      Given answers for {{ content }}
    {% endblocktrans %}
  </h1>

  <table class="fixed alternate-green answers-table">
    <colgroup>
      <col class="name">
      <col class="answer-date">
      <col class="answer">
      <col class="evaluation">
    </colgroup>
    <caption>
      {% trans 'Answers table' %}
    </caption>
    <thead>
      <tr>
        <th onclick="sort_table(event, this, 0, 1);">{% trans 'Name' %}</th>
        <th onclick="sort_table(event, this, 1, 1);">{% trans 'Answer date' %}</th>
        <th onclick="sort_table(event, this, 2, 1);">{% trans 'Entered answer' %}</th>
        <th onclick="sort_table(event, this, 3, 1);">{% trans 'Evaluation' %}</th>
      </tr>
    </thead>
    <tbody>
      {% for answer in answers %}
        <tr>
          <td>{{ answer.user|full_name }}</td>
          <td class="answer-date">{{ answer.answer_date|answer_date }}</td>
          <td class="answer {{ answer.html_extra_class }}">
            {% rendered_answer answer %}
          </td>
          <td class="evaluation {% if answer.evaluation.correct == True %}correct{% elif answer.evaluation.correct == False %}incorrect{% else %}unknown{% endif %}">
            {% if answer.evaluation.correct == True %}
              <span title="{% trans 'Correct' %}">✔</span>
            {% elif answer.evaluation.correct == False %}
              <span title="{% trans 'Incorrect' %}">✘</span>
            {% else %}
              <span title="{% trans 'Unknown' %}">?</span>
            {% endif %}
            {{ answer.evaluation.points }} / {{ answer.evaluation.max_points }}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}










